# 128. Longest Consecutive Sequence
Medium

Given an unsorted array of integers nums, return the length of the longest consecutive elements sequence.

You must write an algorithm that runs in O(n) time.

 

Example 1:
```
Input: nums = [100,4,200,1,3,2]
Output: 4
Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.
```
Example 2:
```
Input: nums = [0,3,7,2,5,8,4,6,0,1]
Output: 9
 ```

Constraints:

- 0 <= nums.length <= 10<sup>5</sup>
- -10<sup>9</sup> <= nums[i] <= 10<sup>9</sup>

```java
class Solution {
    public int longestConsecutive(int[] nums) {
        Set<Integer> set = new HashSet<>();
        int result = 0;
        for(int num : nums)
            set.add(num);
        int count = 0;
        for(int num : nums) {
            if(!set.contains(num-1)) {
                while(set.contains(num++))
                    count++;
                result = Math.max(result, count);
                count = 0;
            }
        }
        return result;
    }
}
```


---

## Approach

We use a `HashSet` to quickly check if a number exists in the array.
The key idea is:
- Only start counting when the current number is the **start** of a sequence (meaning `num - 1` is not in the set).
- Then count forward until the sequence ends.

---

## Steps

1. **Add all numbers to a HashSet**  
   This allows **O(1)** lookup time to check if a number exists.

2. **Iterate over each number in `nums`**  
   - If `(num - 1)` is **not** in the set, that means `num` can be the start of a sequence.

3. **Count the length of the sequence**  
   - Keep incrementing `num` and check if it exists in the set.
   - Increase `count` for each consecutive number found.

4. **Update the maximum length**  
   - Compare `count` with `result` and store the maximum.

5. **Return `result`** as the answer.

---

## Code
```java
class Solution {
    public int longestConsecutive(int[] nums) {
        Set<Integer> set = new HashSet<>();
        int result = 0;

        // Step 1: Add all elements to set
        for (int num : nums)
            set.add(num);

        // Step 2: Loop through nums
        for (int num : nums) {
            // Step 3: Start only if num is sequence start
            if (!set.contains(num - 1)) {
                int count = 0;
                while (set.contains(num++)) // Count forward
                    count++;

                // Step 4: Update max length
                result = Math.max(result, count);
            }
        }
        return result;
    }
}


nums = [100, 4, 200, 1, 3, 2]
Set: {100, 4, 200, 1, 3, 2}

Iteration:

100: No 99 in set → Start counting → Length = 1 → result = 1

4: 3 in set → Skip (not start)

200: No 199 → Start counting → Length = 1 → result = 1

1: No 0 → Start counting → 1, 2, 3, 4 found → Length = 4 → result = 4

3: 2 in set → Skip

2: 1 in set → Skip

Final Answer: 4

Time & Space Complexity
Time: O(n) — Each number is processed at most twice.

Space: O(n) — For storing elements in HashSet.

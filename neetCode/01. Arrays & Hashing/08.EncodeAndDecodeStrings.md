# 659 · Encode and Decode Strings

Description
Design an algorithm to encode a list of strings to a string. The encoded string is then sent over the network and is decoded back to the original list of strings.

Please implement encode and decode


Example1
```
Input: ["lint","code","love","you"]
Output: ["lint","code","love","you"]
Explanation:
One possible encode method is: "lint:;code:;love:;you"
```
Example2
```
Input: ["we", "say", ":", "yes"]
Output: ["we", "say", ":", "yes"]
Explanation:
One possible encode method is: "we:;say:;:::;yes"
```

```java
public class Solution {
    /*
     * @param strs: a list of strings
     * @return: encodes a list of strings to a single string.
     */
    public String encode(List<String> strs) {
        
        StringBuilder sb = new StringBuilder();
        char seperator = '`';
        for(String str : strs) {
            sb.append(str.length());
            sb.append(seperator);
            sb.append(str);
        }
        return sb.toString();
    }

    /*
     * @param str: A string
     * @return: dcodes a single string to a list of strings
     */
    public List<String> decode(String str) {
        
        List<String> strs = new ArrayList<>();
        int i = 0;
        while(i < str.length()) {
            int j = i;
            while(str.charAt(j) != '`')
                j++;
            int len = Integer.parseInt(str.substring(i, j));
            strs.add(str.substring(j+1, j+1+len));
            i = j + 1 + len;
        }
        return strs; 
    }
}
```
# Encode and Decode Strings

## Problem Understanding
You have a list of strings (e.g., `["lint", "code", "love", "you"]`).
You want to send them over the network as a single string.
When the receiver gets the string, they should be able to decode it back to the exact original list.

### Challenges:
- Strings can have spaces, commas, or special characters — so simply joining them with a delimiter (like ",") may not work.
- We must ensure decoding works even if strings contain symbols that look like delimiters.

## Core Idea (Approach)
Instead of using a delimiter, we store:
1. The length of each string
2. A separator (like `#`) to mark where length ends
3. The actual string characters.

**Example:**  
`["lint", "code", "love", "you"]`  
Encoded as:  
```
4#lint4#code4#love3#you
```
Here:
- `4#lint` → first string
- `4#code` → second
- and so on…

**When decoding, we:**
1. Read the number before `#` → this tells the length of the next string.
2. Extract exactly that many characters.
3. Repeat until the end.

---

## Code (Java)
```java
import java.util.*;

public class Codec {

    // Encode list of strings to a single string
    public String encode(List<String> strs) {
        StringBuilder sb = new StringBuilder();
        for (String str : strs) {
            sb.append(str.length()).append('#').append(str);
        }
        return sb.toString();
    }

    // Decode single string to list of strings
    public List<String> decode(String s) {
        List<String> result = new ArrayList<>();
        int i = 0;
        while (i < s.length()) {
            // Find position of '#'
            int j = s.indexOf('#', i);
            // Extract length before '#'
            int length = Integer.parseInt(s.substring(i, j));
            // Extract string after '#'
            String str = s.substring(j + 1, j + 1 + length);
            result.add(str);
            // Move pointer forward
            i = j + 1 + length;
        }
        return result;
    }

    public static void main(String[] args) {
        Codec codec = new Codec();
        List<String> input = Arrays.asList("lint", "code", "love", "you");
        String encoded = codec.encode(input);
        System.out.println("Encoded: " + encoded);
        List<String> decoded = codec.decode(encoded);
        System.out.println("Decoded: " + decoded);
    }
}
```

---

## Dry Run
**Input:** `["lint", "code", "love", "you"]`

**Encoding:**
- "lint" → length = 4 → "4#lint"
- "code" → length = 4 → "4#code"
- "love" → length = 4 → "4#love"
- "you" → length = 3 → "3#you"

**Result:** `"4#lint4#code4#love3#you"`

**Decoding:**
1. Start i = 0
2. Find # → at index 1 → substring(0,1) = "4" → length = 4  
   Get substring(2, 6) = "lint", move i to 6
3. Repeat → "4" → "code", move i to 12
4. "4" → "love", move i to 18
5. "3" → "you", move i to 23 → done.

---

## Complexity
- **Time:** O(n) — n = total characters in all strings
- **Space:** O(1) extra (excluding result storage)

---

## Problem Summary
We want to:
- Encode a list of strings into a single string (safe for network transmission).
- Decode that single string back into the original list.

**Challenge:** Strings may contain spaces, numbers, special characters — so we need a safe way to separate them without losing information.

---

## Approach
We’ll prefix each string with its length and a delimiter (`#`).

**Example:**
```
["lint","code","love"]  
→ "4#lint4#code4#love"
```
**Why?**
- Length tells us exactly how many characters to read for each word.
- `#` acts as a clear separator between the length and the string content.

---

## Encoding Steps:
1. For each string:
   - Append its length.
   - Append `#`.
   - Append the string itself.
2. Join them all into one big string.

**Example:**
```
Input: ["lint","code"]
Process:
"4#lint" + "4#code" → "4#lint4#code"
```

---

## Decoding Steps:
1. Read until `#` to get the length of the next string.
2. Read the next `length` characters — that’s the string.
3. Repeat until the entire encoded string is read.

**Example:**
```
Encoded: "4#lint4#code"
Process:
- Read until '#': length = 4 → take "lint"
- Read until '#': length = 4 → take "code"
Output: ["lint","code"]
```

---

## Another Java Implementation
```java
class Codec {
    // Encodes a list of strings to a single string.
    public String encode(List<String> strs) {
        StringBuilder sb = new StringBuilder();
        for (String s : strs) {
            sb.append(s.length()).append('#').append(s);
        }
        return sb.toString();
    }

    // Decodes a single string to a list of strings.
    public List<String> decode(String str) {
        List<String> result = new ArrayList<>();
        int i = 0;
        while (i < str.length()) {
            int j = i;
            while (str.charAt(j) != '#') {
                j++;
            }
            int length = Integer.parseInt(str.substring(i, j));
            result.add(str.substring(j + 1, j + 1 + length));
            i = j + 1 + length;
        }
        return result;
    }
}
```

---

## Dry Run (Simplified)
**Encoding**
```
Input: ["lint","code"]
Step 1: sb = "4#lint"
Step 2: sb = "4#lint4#code"
Output: "4#lint4#code"
```

**Decoding**
```
"4#lint4#code"
i=0 → read "4" → length=4 → take "lint" → i=6
i=6 → read "4" → length=4 → take "code" → i=12
Output: ["lint","code"]
```

---

## Time Complexity
- **Encoding:** O(N) total length of all strings.
- **Decoding:** O(N) total length of all strings.
